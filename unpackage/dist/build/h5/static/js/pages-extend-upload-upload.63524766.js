(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-extend-upload-upload"],{"04ad":function(t,e,i){"use strict";i.r(e);var a=i("f2ea"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"268e":function(t,e,i){"use strict";(function(t){var a=i("ee27");i("c975"),i("a15b"),i("a434"),i("a9e3"),i("d3b7"),i("ac1f"),i("5319"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("54f8")),o=a(i("d0ff")),r={name:"tuiUpload",props:{value:{type:Array,default:function(){return[]}},forbidDel:{type:Boolean,default:!1},forbidAdd:{type:Boolean,default:!1},serverUrl:{type:String,default:""},limit:{type:Number,default:9},sizeType:{type:Array,default:function(){return["original","compressed"]}},sourceType:{type:Array,default:function(){return["album","camera"]}},imageFormat:{type:Array,default:function(){return[]}},size:{type:Number,default:4},fileKeyName:{type:String,default:"file"},header:{type:Object,default:function(){return{}}},formData:{type:Object,default:function(){return{}}}},data:function(){return{imageList:[],statusArr:[]}},created:function(){this.initImages()},watch:{value:function(t){t&&this.initImages()}},computed:{isShowAdd:function(){var t=!0;return(this.forbidAdd||this.limit&&this.imageList.length>=this.limit)&&(t=!1),t}},methods:{initImages:function(){this.imageList=(0,o.default)(this.value);var t,e=(0,n.default)(this.imageList);try{for(e.s();!(t=e.n()).done;){t.value;this.statusArr.push("1")}}catch(i){e.e(i)}finally{e.f()}},reUpLoad:function(t){var e=this;this.$set(this.statusArr,t,"2"),this.change(),this.uploadImage(t,this.imageList[t]).then((function(){e.change()})).catch((function(){e.change()}))},change:function(){var t=~this.statusArr.indexOf("2")?2:1;2!=t&&~this.statusArr.indexOf("3")&&(t=3),this.$emit("complete",{status:t,imgArr:this.imageList})},toast:function(t){t&&uni.showToast({title:t,icon:"none"})},chooseImage:function(){var e=this;uni.chooseImage({count:e.limit-e.imageList.length,sizeType:e.sizeType,sourceType:e.sourceType,success:function(i){t.log(i);for(var a=[],n=0;n<i.tempFiles.length;n++){var o=e.imageList.length;if(o>=e.limit){e.toast("最多可上传".concat(e.limit,"张图片"));break}var r=i.tempFiles[n].path;if(e.imageFormat.length>0){var s="",A=i.tempFiles[n].type;if(s=A.split("/")[1],-1==e.imageFormat.indexOf(s)){var u="只能上传 ".concat(e.imageFormat.join(",")," 格式图片！");e.toast(u);continue}}var c=i.tempFiles[n].size;if(1024*e.size*1024<c){"单张图片大小不能超过：".concat(e.size,"MB");e.toast(text)}else a.push(r),e.imageList.push(r),e.statusArr.push("2")}e.change();for(var l=e.imageList.length-a.length,f=0;f<a.length;f++){var d=l+f;e.serverUrl?e.uploadImage(d,a[f]).then((function(){e.change()})).catch((function(){e.change()})):(e.$set(e.statusArr,d,"1"),e.change())}}})},uploadImage:function(e,i){var a=this,n=this;return new Promise((function(o,r){uni.uploadFile({url:a.serverUrl,name:a.fileKeyName,header:a.header,formData:a.formData,filePath:i,success:function(i){if(t.log(i),200==i.statusCode){var a=JSON.parse(i.data.replace(/\ufeff/g,"")||"{}");a.code%100===0?(a.url&&(n.imageList[e]=a.url),n.$set(n.statusArr,e,a.url?"1":"3")):n.$set(n.statusArr,e,"3"),o(e)}else n.$set(n.statusArr,e,"3"),r(e)},fail:function(t){n.$set(n.statusArr,e,"3"),r(e)}})}))},delImage:function(t){this.imageList.splice(t,1),this.statusArr.splice(t,1),this.$emit("remove",{index:t}),this.change()},previewImage:function(t){this.imageList.length&&uni.previewImage({current:this.imageList[t],loop:!0,urls:this.imageList})}}};e.default=r}).call(this,i("5a52")["default"])},"45ba":function(t,e,i){"use strict";i.r(e);var a=i("fe59"),n=i("ad71");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("e0fb");var r,s=i("f0c5"),A=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"078c6338",null,!1,a["a"],r);e["default"]=A.exports},"54c2":function(t,e,i){var a=i("6f81");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("797e12c5",a,!0,{sourceMap:!1,shadowMode:!1})},"54f8":function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return n}));i("a4d3"),i("e01a"),i("d28b"),i("e260"),i("d3b7"),i("3ca3"),i("ddb0");var a=i("dde1");function n(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=Object(a["a"])(t))){var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,r=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return r=t.done,t},e:function(t){s=!0,o=t},f:function(){try{r||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}},"6f81":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"uni-page-body[data-v-262c0734]{background-color:#fff}.container[data-v-262c0734]{padding:%?20?% 0 %?120?% 0;box-sizing:border-box}.header[data-v-262c0734]{padding:%?80?% %?90?% %?60?% %?90?%;box-sizing:border-box}.title[data-v-262c0734]{font-size:%?34?%;color:#333;font-weight:500}.sub-title[data-v-262c0734]{font-size:%?24?%;color:#7a7a7a;padding-top:%?18?%}.tui-box-upload[data-v-262c0734]{padding-left:%?25?%;box-sizing:border-box}body.?%PAGE?%[data-v-262c0734]{background-color:#fff}",""]),t.exports=e},"76f3":function(t,e,i){"use strict";i.r(e);var a=i("7efa"),n=i("04ad");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("7c1e");var r,s=i("f0c5"),A=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"262c0734",null,!1,a["a"],r);e["default"]=A.exports},"7c1e":function(t,e,i){"use strict";var a=i("54c2"),n=i.n(a);n.a},"7efa":function(t,e,i){"use strict";var a={tuiUpload:i("45ba").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"header"},[i("v-uni-view",{staticClass:"title"},[t._v("upload")]),i("v-uni-view",{staticClass:"sub-title"},[t._v("图片上传，需要根据上传接口实际返回数据进行调整")])],1),i("v-uni-view",{staticClass:"tui-box-upload"},[i("tui-upload",{attrs:{value:t.value,serverUrl:t.serverUrl},on:{complete:function(e){arguments[0]=e=t.$handleEvent(e),t.result.apply(void 0,arguments)},remove:function(e){arguments[0]=e=t.$handleEvent(e),t.remove.apply(void 0,arguments)}}})],1)],1)},o=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}))},ad71:function(t,e,i){"use strict";i.r(e);var a=i("268e"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},b4e4:function(t,e,i){var a=i("c67a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("279dc606",a,!0,{sourceMap:!1,shadowMode:!1})},c67a:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@font-face{font-family:tuiUpload;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAATcAA0AAAAAByQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAEwAAAABoAAAAciR52BUdERUYAAASgAAAAHgAAAB4AKQALT1MvMgAAAaAAAABCAAAAVjxvR/tjbWFwAAAB+AAAAEUAAAFK5ibpuGdhc3AAAASYAAAACAAAAAj//wADZ2x5ZgAAAkwAAADXAAABAAmNjcZoZWFkAAABMAAAAC8AAAA2FpiS+WhoZWEAAAFgAAAAHQAAACQH3QOFaG10eAAAAeQAAAARAAAAEgwAACBsb2NhAAACQAAAAAwAAAAMAEoAgG1heHAAAAGAAAAAHwAAACABEgA2bmFtZQAAAyQAAAFJAAACiCnmEVVwb3N0AAAEcAAAACgAAAA6OMUs4HjaY2BkYGAAYo3boY/i+W2+MnCzMIDAzb3qdQj6fwPzf+YGIJeDgQkkCgA/KAtvAHjaY2BkYGBu+N/AEMPCAALM/xkYGVABCwBZ4wNrAAAAeNpjYGRgYGBl0GJgZgABJiDmAkIGhv9gPgMADTABSQB42mNgZGFgnMDAysDA1Ml0hoGBoR9CM75mMGLkAIoysDIzYAUBaa4pDA7PGJ9xMjf8b2CIYW5gaAAKM4LkANt9C+UAAHjaY2GAABYIVmBgAAAA+gAtAAAAeNpjYGBgZoBgGQZGBhBwAfIYwXwWBg0gzQakGRmYnjE+4/z/n4EBQksxSf6GqgcCRjYGOIeRCUgwMaACRoZhDwCiLwmoAAAAAAAAAAAAAAAASgCAeNpdjkFKw0AARf/vkIR0BkPayWRKQZtYY90ohJju2kOIbtz0KD1HVm50UfEmWXoAr9ADOHFARHHzeY//Fx8Ci+FJfIgdJFa4AhgiMshbrCuIsLxhFJZVs+Vl1bT1GddtbXTC3OhohN4dg4BJ3zMJAnccyfm468ZzHXddrH9ZKbHzdf9n/vkY/xv9sPQXgGEvBrHHwst5kTbXLE+YpYVPkxepPmW94W16UbdNJd6f3SAzo5W7m1jaKd+8ZZIvk5nlKw9SK6Wle7BLS3f/bTzQLmfAF2T1NsQAeNp9kD1OAzEQhZ/zByQSQiCoXVEA2vyUKRMp9Ailo0g23pBo1155nUg5AS0VB6DlGByAGyDRcgpelkmTImvt6PObmeexAZzjGwr/3yXuhBWO8ShcwREy4Sr1F+Ea+V24jhY+hRvUf4SbuFUD4RYu1BsdVO2Eu5vSbcsKZxgIV3CKJ+Eq9ZVwjfwqXMcVPoQb1L+EmxjjV7iFa2WpDOFhMEFgnEFjig3jAjEcLJIyBtahOfRmEsxMTzd6ETubOBso71dilwMeaDnngCntPbdmvkon/mDLgdSYbh4FS7YpjS4idCgbXyyc1d2oc7D9nu22tNi/a4E1x+xRDWzU/D3bM9JIbAyvkJI18jK3pBJTj2hrrPG7ZynW814IiU68y/SIx5o0dTr3bmniwOLn8owcfbS5kj33qBw+Y1kIeb/dTsQgil2GP5PYcRkAAAB42mNgYoAALjDJyIAOWMGiTIxMjMxsKak5qSWpbFmZiRmJ+QAmgAUIAAAAAf//AAIAAQAAAAwAAAAWAAAAAgABAAMABAABAAQAAAACAAAAAHjaY2BgYGQAgqtL1DlA9M296nUwGgA+8QYgAAA=) format("woff");font-weight:400;font-style:normal}.tui-upload-icon[data-v-078c6338]{font-family:tuiUpload!important;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;padding:%?10?%}.tui-icon-delete[data-v-078c6338]:before{content:"\\e601"}.tui-icon-plus[data-v-078c6338]:before{content:"\\e609"}.tui-upload-box[data-v-078c6338]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap}.tui-upload-add[data-v-078c6338]{width:%?220?%;height:%?220?%;font-size:%?68?%;font-weight:100;color:#888;background-color:#f7f7f7;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:0}.tui-image-item[data-v-078c6338]{width:%?220?%;height:%?220?%;position:relative;margin-right:%?20?%;margin-bottom:%?20?%}.tui-image-item[data-v-078c6338]:nth-of-type(3n){margin-right:0}.tui-item-img[data-v-078c6338]{width:%?220?%;height:%?220?%;display:block}.tui-img-del[data-v-078c6338]{width:%?36?%;height:%?36?%;position:absolute;right:%?-12?%;top:%?-12?%;background-color:#eb0909;border-radius:50%;color:#fff;font-size:%?34?%;z-index:999}.tui-img-del[data-v-078c6338]::before{content:"";width:%?16?%;height:1px;position:absolute;left:%?10?%;top:%?18?%;background-color:#fff}.tui-upload-mask[data-v-078c6338]{width:100%;height:100%;position:absolute;left:0;top:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around;padding:%?40?% 0;box-sizing:border-box;background-color:rgba(0,0,0,.6)}.tui-upload-loading[data-v-078c6338]{width:%?28?%;height:%?28?%;border-radius:50%;border:2px solid;border-color:#b2b2b2 #b2b2b2 #b2b2b2 #fff;-webkit-animation:tui-rotate-data-v-078c6338 .7s linear infinite;animation:tui-rotate-data-v-078c6338 .7s linear infinite}@-webkit-keyframes tui-rotate-data-v-078c6338{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes tui-rotate-data-v-078c6338{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.tui-tips[data-v-078c6338]{font-size:%?26?%;color:#fff}.tui-mask-btn[data-v-078c6338]{padding:%?4?% %?16?%;border-radius:%?40?%;text-align:center;font-size:%?24?%;color:#fff;border:%?1?% solid #fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.tui-btn-hover[data-v-078c6338]{opacity:.8}',""]),t.exports=e},e0fb:function(t,e,i){"use strict";var a=i("b4e4"),n=i.n(a);n.a},f2ea:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{imageData:[],serverUrl:"https://api.thorui.cn/",value:[]}},onLoad:function(){var t=this;setTimeout((function(){t.value=["/static/images/index/logo.png"]}),200)},methods:{result:function(e){t.log(e),this.imageData=e.imgArr},remove:function(e){t.log(e);e.index}}};e.default=i}).call(this,i("5a52")["default"])},fe59:function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"tui-container"},[i("v-uni-view",{staticClass:"tui-upload-box"},[t._l(t.imageList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"tui-image-item"},[i("v-uni-image",{staticClass:"tui-item-img",attrs:{src:e,mode:"aspectFill"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.previewImage(a)}}}),t.forbidDel?t._e():i("v-uni-view",{staticClass:"tui-img-del",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.delImage(a)}}}),1!=t.statusArr[a]?i("v-uni-view",{staticClass:"tui-upload-mask"},[2==t.statusArr[a]?i("v-uni-view",{staticClass:"tui-upload-loading"}):t._e(),i("v-uni-text",{staticClass:"tui-tips"},[t._v(t._s(2==t.statusArr[a]?"上传中...":"上传失败"))]),3==t.statusArr[a]?i("v-uni-view",{staticClass:"tui-mask-btn",attrs:{"hover-class":"tui-btn-hover","hover-stay-time":150},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.reUpLoad(a)}}},[t._v("重新上传")]):t._e()],1):t._e()],1)})),t.isShowAdd?i("v-uni-view",{staticClass:"tui-upload-add",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseImage.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"tui-upload-icon tui-icon-plus"})],1):t._e()],2)],1)},o=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}))}}]);